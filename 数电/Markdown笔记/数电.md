## 进制和码

- 十进制转其他：除取余从下往上对应左到右，小数乘取整从左往右
- 其他转十：加权和
- 二转八：三合一按顺序，左右补零
- 二转16：四合一按顺序，左右补零
- 16转2：一拆4
- 8转2：一拆3

- 正数：原反补相同，原码最高位0
- 负数：
  - 原码最高位1
  - 反码除最高位外取反
  - 补码=反码+1
- 计算：减法视作加负数，全部用补码计算

- 8421码：
  - 相当于用四位二进制表示，按位转换，一个十进制数字对应4个二进制，不是10转2
  - bcd的总位数必须4的倍数，0.4->0.0100
- 余3码：8421+0011
  - 相加=10可以产生进位
  - 09 18 27互为反码
- 2421、5211同理，相当于按位权重
- 余3循环码：首位与余三码相同，对比余三码两位二进制，如果相同就取0，如果不同就取1。
  - 第二位：对比余3码的12位
  - 第三位：对比余3码的23位
  - 第四位：对比余3码的34位
- 格雷码
  - 2位：00 01 11 10
  - 3位：000 001 011 010 110 111 101 100（前面加0/1再镜像）
  - 4位：3位前面加0/1再镜像

## 逻辑门

- 与门：输入端是平口，与非门在输出加圈
- 或门：输入端是凹口，或非门在输出加圈
- 非门：三角形顶点加圈输出，底边输入
- 异或：或门凹口再加一条边，不同出1，符号圈里面加号
  - n个量做异或，有偶数个变量取1，则为0；奇数个1，出1
- 同或：符号圈里面一个点，异或门图形输出加圈，相同出1

## 逻辑运算

- A+AB＝A
- A+A'B＝A+B
- A(A+B)=A
- AB+A'C+BC=AB+A'C ：三个乘积项相加，前两项中的一个因子互为反，那么剩余的因子组成的另一项则是多余的
- A(AB)'=AB' 拆括号可证
- A'(AB)'=A'
- 对于单个的某一项，可以无限个复制用于配项
- 反函数
  - 所有项×+互相替换，01互相替换，非与不非互相替换。先与再或，跨越多项的非要保留
  - 括号内的要保持优先级不变
  - 原先运算顺序不变，即x拆出来要加括号
- 对偶
  - 反函数不变非与不非的情况
- 注意化简有时可以用异或/同或进一步化简
  - 异或=A'B+AB'
  - 同或=AB+A'B'
- 最小项
  - 一系列乘积的和，且和=1
  - 不取反为1，即00对应A'B'
  - 转化为标准与或，对于缺失的字母补(A+A')=1乘在一起再加，开括号
  - 卡诺图中的1
- 最大项
  - 一系列和的乘积，且积=0
  - 取反为1，即00对应A+B
  - 转化为标准或与，对于缺失的字母补AA'=0加在一起，再和其他括号乘，重复字母拆到两个括号
  - 卡诺图中的0（把0合并，且视为不取反）
- 最小项的标准与或 和 最大项的标准或与 互反
- 4位以上的卡诺图：用n-1位的做镜像，n-1的中间位变0，镜像侧为1，其他顺序同n-1图

## 门电路

二极管与门

<div align=left><img src=".\数电image\二极管与门.png" width="20%"><div>
<div align=left><div>

二极管或门

<div align=left><img src=".\数电image\二极管或门.png" width="20%"><div>
<div align=left><div>

三极管非门

<div align=left><img src=".\数电image\三极管非门.png" width="20%"><div>
<div align=left><div>

## 逻辑电路

- 组合逻辑电路
  - 无记忆性
  - 输出、输入之间没有反馈延迟通路。
  - 电路中不含存储单元
  - 门电路有延迟，所以整体仍存在延迟

- 竞争
  - 门电路两个输入信号同时向相反跳变，由于延迟，可能产生尖峰脉冲
  - 存在竞争现象，输出就有可能出现违背稳态下逻辑关系的尖峰脉冲；但是不是一定出现
- 竞争-冒险
  - 由于竞争而在电路输出端可能产生尖峰脉冲的现象。
- 消除竞争冒险
  1. 接入滤波电容
    - 在输出端并接一个很小的滤波电容
  2. 引入选通脉冲
    - 让其在上升沿或者下降沿触发（类似时钟信号）
  3. 冗余
    - 类似于在卡诺图中让所有的矩形框选都联通

### JK触发器

- J1K0下降沿 Q出1
- J0K1下降沿 Q出0
- 00保持
- 11下降沿 反转
- Q=0时，在下降沿和前一个上升沿之间如果J=1出现过，在下降沿处视作J=1
- Q=1时，在下降沿和前一个上升沿之间如果K=1出现过，在下降沿处视作K=1
- Q*=JQ'+K'Q
- J=S，K=R，等效代替RS触发器
- JK都接T，等效T触发器
- J=D，K=D'，等效D触发器
- 接在输出上一般起缓冲作用防止竞争冒险

### RS触发器

- 11不确定
- 00保持
- R0S1出1，R1S0出0
- Q*=S+R'Q
- 下降沿触发

### T触发器

- Q*=TQ'+T'Q
- T=1反转，T=0不变
- 下降沿

### D触发器

- Q*=D
- 输出和D完全一致
- 上升沿

###

同步触发器一定电平触发，主从触发器一定脉冲

存储器容量看地址线（字线），地址线数量n->2^n个bit，数据线（位线）数量对应字节，八条数据线即一个字节

- 时序逻辑电路
  - 记忆性
  - 触发器/存储电路必须有
  - 举例：串行加法器、计数器、寄存器、移位寄存器、读/写存储器、顺序脉冲发生器

- 米利型
  - 输出信号=存储状态和输入变量
- 穆尔型
  - 输出信号=存储状态（米利的特例）
- 状态转换
  - 状态转换表：类似真值表，左侧是Q现态，右侧是Q次态和输出。注意输出根据现态拿到
  - 状态转换图：有箭头，箭头方向是状态转换，箭头上写“/输出”，圈里面是现态（即箭头指向的次态），注意图例
  - 时序图：按顺序的波形图

- 同步时序电路
  - 所有触发器状态变化在同一时钟信号下同时发生
  - 输出方程：输出之前最后一步，一般是纯Q的组合
  - 驱动方程：中间各个触发器的输入接在什么上
  - 驱动方程输入端代换进JK器特性方程Q*=JQ'+K'Q，得到每个触发器的状态方程（Q*=的形式）
  - 把状态方程改写为JK器形式：
    - 左侧Q*，右侧是必须是()Q'+()'Q形式，括号内可以不同，Q下标全部一致
    - 凑不齐加一项0·Q'这样的，下标不对应补一项下标对应的(Q+Q')乘系数
    - 于是J接到Q'对应的括号内的东西上，K接到Q对应的括号内东西的整个的取反上
    - 最后输出接出去
    - 自启动：
      - 卡诺图-状态转移
      - 实现自启动需要把无效态即图中的叉全部和1联通，即视作1将其包进去。
      - 在多个变量的状态转移里面只要有一个联通了即可不用全部视作1，叉可以和叉联通只要最后能连到1即可。
      - 此时自启动的无效状态指向和他连接的那个状态

四进加减计数器

<div align=center><img src=".\数电image\四进加减计数器.png" width="80%"><div>
<div align=left><div>

<div align=center><img src=".\数电image\四进加减计数器状态转换.png" width="70%"><div>
<div align=left><div>

- 异步时序
  - 触发器状态的变化不同时发生
  - 比同步时序的三组方程多一组时钟信号方程，即中间的clk接在什么
  - 状态方程=状态*时钟
  - 寄存器、移位寄存器、任意进制计数器、寄存计数器、顺序脉冲发生器、序列信号发生器
  - 并行：一次性同时在多个端口IO；串行：按顺序在一段时间从一个端口内IO
  - 一般来说左移/2右移*2，右边高位，**0是最低位**

D触发移位寄存器

<div align=center><img src=".\数电image\D触发移位寄存器.png" width="70%"><div>
<div align=left><div>

JK触发移位寄存器

<div align=center><img src=".\数电image\JK触发移位寄存器.png" width="70%"><div>
<div align=left><div>

- 计数器
- ep、et都接1，最低位角标0，该位权重1即2^0，递推1248即四个口是16进
  - 加法
    - 末位+1，从末位这一位开始往高位走，把1全部变0，直到第一个0把这个0变1
    - 如果末位0那相当于原地停止，把0变1
    - 即第i位=i-1直到0位的与（用于写驱动方程）
  - 减法
    - 末位-1，从末位这一位开始往高位走，把0全部变1，直到第一个1把这个1变0
    - 如果末位1那相当于原地停止
    - 即第i位=i-1直到0位的每位的反的与（用于写驱动方程）
- 往小进制改造
  - LD同步置数（把此时的D端覆盖进来）置数法
    - n进制，在n-1输出的时候接与非到LD，rd接1
    - d输入，0是最低位，d的状态即归零开始计数的状态
  - RD异步置零（归零）清零法
    - n进制，在n的时候与非到RD，n输出状态是暂态，不占用一个clk时长
    - 需要接RS触发器防止归零信号时间太短，与非和clk接到触发器两个输入，rd接与非对角，进位接clk对角
  - 进位口c接非门到ld上
    - d输入，0是最低位，d的状态即归零开始计数的状态
    - d默认设置为总状态数-进制数的值，16改7即1001
- 往大进制改造
  - 大进制**乘法**分解摊到两个上，不能分解就扩展位数
    - 扩展位数，低位c接高位epet，ld、rd、clk都接同一个，ld都接归零
  - 串行
    - 低位部分的计数器的进位接到高位部分的计数器的时钟信号输入上
    - ld、rd都接1
  - 并行
    - 同一个时钟，低位的进位接在高位的工作控制即EP/ET两个上，一般用这个扩展位数
    - LD和RD接一起，下面输出判断置零，与非门输出接高位LD

可以自启动的扭环计数器
n位的，有效循环2n个，每次转换只有一个触发器改变状态，不会竞争冒险，仍有2^n-2n个状态没有利用

<div align=center><img src=".\数电image\自启动扭环计数器.png" width="50%"><div>
<div align=left><div>

移位寄存器-环形计数器-顺序脉冲发生器

<div align=center><img src=".\数电image\顺序脉冲发生器.png" width="50%"><div>
<div align=left><div>

计数器+译码器=顺序脉冲发生器

<div align=center><img src=".\数电image\计数译码顺序脉冲器.png" width="50%"><div>
<div align=left><div>

<div align=center><img src=".\数电image\计数译码顺序脉冲器波形.png" width="30%"><div>
<div align=left><div>

环形振荡器

将任何大于等于3的奇数个反相器首尾相联成环形电路，都能产生自激振荡，周期为$2nt_{pd}$，其中$t_{pd}$为非门传输延迟，n为串联非门个数

中间加RC增大延迟，其中$R_s$是保护电阻，$T≈2.2RC$

<div align=left><img src=".\数电image\增大延迟的环形振荡器.png" width="40%"><div>
<div align=left><div>

施密特多谐振荡器，$T = RC\ln \frac{V_{DD}-V_{T-}}{V_{DD}-V_{T+}}\frac{V_{T+}}{V_{T-}}$

<div align=left><img src=".\数电image\施密特多谐振荡器.png" width="20%"><div>
<div align=left><div>

占空比可调振荡，$T = R_1C\ln \frac{V_{DD}-V_{T+}}{V_{DD}-V_{T-}} + R_2C\ln \frac{V_{DD}-V_{T-}}{V_{DD}-V_{T+}}$

<div align=left><img src=".\数电image\占空比可调振荡.png" width="20%"><div>
<div align=left><div>

石英振荡器：符号类似于在电容中间加一个矩形，特性曲线类似频率筛选器，只能在特定频率上工作，整个振荡器的频率只取决于这个固有频率

### 555

- 62进3出，7接三极管集电极
  - 4进1才工作，否则3一直0
  - 6和2/3VCC比，2和1/3VCC比
  - 5接入则6和V5比，2和1/2V5比
  - 11出0，00出1，01保持，10出1
  - 3出0-7导通接地，3出1-7截止
  - 555施密特
    - 62接同一个信号，5用电容接地（滤波）
  - 555单稳态
    - 输出脉宽$=RC\ln 3=1.1RC$
     
    <div align=left><img src=".\数电image\555单稳态.png" width="30%"><div>
    <div align=left><div>

  - 555多谐振荡器
    - $T = (R_1+2R_2)C\ln 2=0.69(R_1+2R_2)C$，占空比$=\frac{R_2}{R_1+R_2}$
    
    <div align=left><img src=".\数电image\555多谐振荡器.png" width="30%"><div>
    <div align=left><div>

## AD DA

### D/A转换 数字转模拟（digital数字）

- 权电阻网络DA
  - 结构简单，电阻少
  - 各个电阻阻值差距大
- 倒T型电阻网络DA

- 指标
  - 分辨率
    - 输入的二进制位数
    - 最小电压与最大电压的比，1/(2^n-1)
  - 转换误差
    - 最低有效位的倍数
    - 用输出电压满刻度FSR的百分数表示输出电压误差绝对值的大小

### A/D转换 模拟转数字（analog模拟）

取样信号一般需要不小于二倍的模拟信号谐波中的最大频率，此时可以用低通滤波器将取样后信号还原为模拟

- 集成取样保持器
- 并联比较型A/D转换器
  - 输入模拟直接出数字量
- 逐次渐近型A/D转换器
  - 时钟将寄存器的最高位置成1，其余全零，过DA器与输入比较，确定01情况
  - 类推每一位
  - 在输出位数较多时，电路规模小
- V-F变换型A/D转换器

- 性能指标
  - 精度
    - 分辨率：输出位数
    - 转换误差：实际输出的数字量和理论上应有的输出数字量之间的差别
  - 效率
    - 转换速度
      - 并联比较最快，其次逐次渐近