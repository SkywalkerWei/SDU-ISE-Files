wp=0.2;
ws=0.3;
rp=1;
as=15;
[n1,wc1]=buttord(wp,ws,rp,as);
[b1,a1]=butter(n1,wc1);
[h1,w1]=freqz(b1,a1);
db1=20*log10(abs(h1)/max(abs(h1)));
subplot(311),plot(w1/pi,abs(h1));
xlabel('pi');ylabel('H');
axis([0,1,0,1.1]);
subplot(312),plot(w1/pi,angle(h1));
xlabel('pi');
subplot(313),plot(w1/pi,db1);
xlabel('pi');ylabel('db');
wp=0.6;
ws=0.4;
rp=1;
as=15;
[n1,wc1]=buttord(wp,ws,rp,as);
[b1,a1]=butter(n1,wc1,'high');
figure;
[h1,w1]=freqz(b1,a1);
db1=20*log10(abs(h1)/max(abs(h1)));
subplot(311),plot(w1/pi,abs(h1));
xlabel('pi');ylabel('H');axis([0,1,0,1.1]);
subplot(312),plot(w1/pi,angle(h1));
xlabel('pi');
subplot(313),plot(w1/pi,db1);
xlabel('pi');ylabel('db');
wp=[0.3,0.4];
ws=[0.2,0.5];
rp=3;
as=18;
ts=1;
[n1,wc1]=buttord(wp,ws,rp,as);
[b1,a1]=butter(n1,wc1);
figure;
[h1,w1]=freqz(b1,a1);
db1=20*log10(abs(h1)/max(abs(h1)));
subplot(311),plot(w1/pi,abs(h1));
xlabel('pi');ylabel('H');axis([0,1,0,1.1]);
subplot(312),plot(w1/pi,angle(h1));
xlabel('pi');
subplot(313),plot(w1/pi,db1);
xlabel('pi');ylabel('db');
wp=[0.2,0.8];
ws=[0.4,0.7];
rp=1;
as=30;
ts=1;
[n1,wc1]=buttord(wp,ws,rp,as);
[b1,a1]=butter(n1,wc1,'stop');
figure;
[h1,w1]=freqz(b1,a1);
db1=20*log10(abs(h1)/max(abs(h1)));
subplot(311),plot(w1/pi,abs(h1));
xlabel('pi');ylabel('H');axis([0,1,0,1.1]);
subplot(312),plot(w1/pi,angle(h1));
xlabel('pi');
subplot(313),plot(w1/pi,db1);
xlabel('pi');ylabel('db');